<?xml version="1.0" encoding="utf-8"?>
<layout
		xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools"
		xmlns:app="http://schemas.android.com/apk/res-auto">

	<data>

		<variable
			name="state"
			type="Integer" />

		<variable
			name="progress"
			type="Integer" />

		<variable
			name="title"
			type="String" />

		<import type="android.view.View" />

		<import type="android.graphics.Color" />

	</data>

	<android.support.v7.widget.CardView
			android:layout_width="match_parent"
			android:layout_margin="20dp"
			app:cardCornerRadius="10dp"
			app:cardElevation="5dp"
			android:layout_height="80dp">
		
		<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:orientation="horizontal"
				android:gravity="center_vertical"
		>
			
			<ImageView
					android:id="@+id/iv"
					android:layout_width="60dp"
					android:layout_height="60dp"
					android:layout_margin="10dp"
					android:layout_marginLeft="20dp"
					android:scaleType="centerCrop"
				tools:src="@drawable/bg_upload_img" />
			
			<LinearLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:orientation="vertical"
					android:layout_marginLeft="10dp"
					android:layout_marginRight="10dp"
			>
				
				<RelativeLayout
						android:layout_width="match_parent"
						android:layout_height="wrap_content">
					
					<TextView
							android:layout_alignParentLeft="true"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							tools:text="图片文件上传中"
						android:text="@{title}"
						android:textColor="@{state==3?Color.RED:Color.GRAY}"
					/>
					
					<FrameLayout
							android:layout_alignParentRight="true"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
					>
						
						<TextView
								android:id="@+id/tvProgress"
								android:layout_width="wrap_content"
								android:layout_height="wrap_content"
							android:visibility="@{(state==0||state==1)?View.VISIBLE:View.GONE}"
						/>
						
						<ImageView
								android:id="@+id/iv_success"
								android:src="@drawable/bg_upload_success"
								android:layout_width="wrap_content"
								android:layout_height="wrap_content"
							android:visibility="@{state==2?View.VISIBLE:View.GONE}"
						/>
						
						<ImageView
								android:id="@+id/iv_error"
							android:src="@drawable/bg_upload_error"
								android:layout_width="20dp"
								android:layout_height="20dp"
							android:visibility="@{state==3?View.VISIBLE:View.GONE}"
						/>
					</FrameLayout>
				
				
				</RelativeLayout>
				
				<ProgressBar
						android:layout_marginTop="5dp"
						android:id="@+id/pb"
					tools:progress="50"
						style="@android:style/Widget.ProgressBar.Horizontal"
						android:progressTint="#34e0cb"
						android:layout_width="match_parent"
					android:progress="@{progress}"
						android:layout_height="4dp"/>
			
			</LinearLayout>
		
		
		</LinearLayout>
	
	</android.support.v7.widget.CardView>


</layout>